# tup_dart_2024_Beta

## 介绍
本项目是TUP2023暑假期间飞镖测试架的代码

## 操作逻辑

### 整体操作逻辑

- 右拨杆下：无力模式
    - 读取摩擦轮转速
    - 左拨杆中：调整摩擦轮转速
- 右拨杆中：调整模式
    - 左拨杆下中：调整滑块位置
    - 左拨杆上：校准滑块零点
- 右拨杆上：发射模式
    - 左拨杆下：准备发射
    - 左拨杆中上：开始发射

### 详细逻辑

- 调整摩擦轮转速
  - 右摇杆保持↗/↖/↙：写转速千位/百位/十位；右摇杆保持↘：读转速
  - 写转速时，左摇杆右拨一次所有摩擦轮转速+1000/100/10，左拨一次所有摩擦轮转速-1000/100/10
  - 读转速时，左摇杆↗读千位，↖读百位，↙读十位，↘读个位。是几蜂鸣器就连续响几声，一直响表示0。
  - 读/写转速时，右摇杆要一直保持在对应的位置，不能松开
- 调整滑块位置
  - 校准滑块零点以后才能调整位置
  - 左摇杆上/下对应滑块上/下
- 校准滑块零点
  - 自动校准
    - ↙↘保持，开始自动校准，滑块会自动下移寻找零点
    - 自动校准开始后可以松开摇杆
    - 底部触点开关被压下时会有蜂鸣器反馈
  - 手动校准
    - 当触点开关损坏时可以手动将滑块移动至零点进行手动校准
    - ↘↙保持，将进行手动校准，以当前位置作为滑块零点
    - **手动校准后必须模拟推弹**，检查滑块停留的位置是否正确
  - 每次上电都需要重新校准
  
- 准备发射
  - ↗↖保持，摩擦轮开始旋转
  - 滑块不移动
- 开始发射
  - 校准滑块零点后才能发射
  - 左摇杆每↖一次，滑块往前推一发
  - 打完所有飞镖后再↖一次，滑块回到零点
